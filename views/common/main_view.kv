<MainView>
    orientation: "vertical"
    MDTopAppBar:
        id: top_app_bar
        title: "Robonomik Communicator"
    MDTabs:
        lock_swiping: True
        on_tab_switch: root.on_tab_switch(*args)
        MyTab:
            title: "Connect"
            ConnectSubview:
        MyTab:
            title: "Settings"
            SettingsSubview:


<ConnectSubview>
    size_hint: .8, .9
    pos_hint: {"center_x": .5, "center_y": .5}
    orientation: "vertical"
    MDBoxLayout:
        orientation: "vertical"
        MDBoxLayout:
            spacing: dp(15)
            adaptive_size: True
            pos_hint: {"center_x": .5, "center_y": .5}
            orientation: "horizontal"
            MDLabel:
                adaptive_size: True
                pos_hint: {"center_x": .5, "center_y": .5}
                theme_text_color: "Primary"
                text: "Available ports"
                halign: "center"
                font_style: "H6"
            MDRaisedButton:
                adaptive_size: True
                pos_hint: {"center_x": .5, "center_y": .5}
                text: "Refresh"
                on_release: root.view.on_ports_list_refresh()
        MDScrollView:
            pos_hint: {"center_x": .5, "center_y": .5}
            always_overscroll: False
            smooth_scroll_end: 5
            scroll_wheel_distance: dp(75)
            do_scroll_x: False
            bar_width: dp(10)
            MDList:
                id: ports_list
                padding: 0, 0, dp(15), 0


<SettingsSubview>
    size_hint: .8, .9
    pos_hint: {"center_x": .5, "center_y": .5}
    orientation: "vertical"
    MDScrollView:
        always_overscroll: False
        smooth_scroll_end: 5
        scroll_wheel_distance: dp(75)
        do_scroll_x: False
        bar_width: dp(10)
        MDBoxLayout:
            spacing: dp(15)
            padding: 0, 0, dp(15), 0
            adaptive_height: True
            pos_hint: {"center_x": .5, "center_y": .5}
            orientation: "vertical"
            MDLabel:
                id: preset_name
                adaptive_height: True
                pos_hint: {"center_x": .5, "center_y": .5}
                text: "Preset: Example 1"
                font_style: "H5"
                halign: "center"
            MDBoxLayout:
                spacing: dp(15)
                adaptive_size: True
                pos_hint: {"center_x": .5, "center_y": .5}
                orientation: "horizontal"
                MDRaisedButton:
                    text: "Create Preset"
                    on_release: root.view.on_preset_create()
                MDRectangleFlatButton:
                    text: "Select Preset"
                    on_release: root.view.on_preset_select()
                MDRectangleFlatButton:
                    text: "Delete Preset"
                    on_release: root.view.on_preset_delete()
            MDSeparator:
            MDLabel:
                adaptive_height: True
                pos_hint: {"center_x": .5, "center_y": .5}
                theme_text_color: "Secondary"
                text: "Settings"
                halign: "left"
                font_style: "H6"
            MDTextField:
                id: default_baudrate
                multiline: False
                required: True
                mode: "rectangle"
                input_filter: 'int'
                hint_text: "Default Baudrate"
                on_focus: root.view.on_settings_changed("default_baudrate", int(self.text) if self.text != "" and int(self.text) >= 0 else 9600)
            MyTwoLineListItemWithCheckbox:
                id: show_console_timestamps
                checkbox_name: "show_console_timestamps"
                text: "Timestamps"
                secondary_text: "Show timestamps in the serial console"


<MyCreatePresetDialogContent>
    padding: dp(15)
    adaptive_height: True
    orientation: "vertical"
    MDTextField:
        id: preset_name
        hint_text: "Name"
        mode: "rectangle"
        multiline: False
        text: "Example"


<MySelectPresetDialogContent>
    orientation: "vertical"
    MDScrollView:
        MDList:
            id: presets_list